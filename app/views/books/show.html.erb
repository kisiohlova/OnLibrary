<section class="card">
  <div class="card-container">
    <div class="card-flex">
      <% if @book.cover.attached? %>
        <div class="flex-shrink-0">
          <%= image_tag @book.cover, class: "card-book-cover" %>
        </div>
      <% else %>
        <div class="flex-shrink-0">
          <%= image_tag 'default_book_cover.jpg', class: "card-book-cover" %>
        </div>
      <% end %>
      <div >
        <h1 class="card-title"><%= @book.title%></h1>
        <h3 class="card-author">by <%= @book.author%></h3>
        <h3 class="card-isbn">ISBN: <%= @book.isbn%></h3>
        <p class="card-description"><%= @book.description%></p>
      </div>
    </div>
    <div class="p-2 mb-4">
      <% if user_signed_in? && @book.content.attached? %>
        <%= link_to 'View PDF', rails_blob_path(@book.content, disposition: 'inline'), target: '_blank', class: "btn-light" %>
        <%= link_to 'Download PDF', rails_blob_path(@book.content, disposition: 'attachment'), class: "btn-light" %>
      <% end %>
    </div>
    <% if user_signed_in? %>
      <%= link_to "Edit this book", edit_book_path(@book), class: "btn-light" %>
      <div class="flex justify-center m-4">
      <%= button_to "Destroy this book", book_path(@book), method: :delete, class: "btn-light" %>
    <% end %>
    <%= link_to "Back to Books", books_path, class: "btn-light" %>
    </div>
  </div>
</section>
